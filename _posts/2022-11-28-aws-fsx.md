---
layout: post
title: "AWS - FSX"
description: ""
category: posts
tags: [aws, aws-guides, aws-solutions-arch-pro]
---
{% include JB/setup %}

# FSx for Windows
Core service for support of Windows file server shares - think managed NAS for windows which can be integrated with Directory services or self-managed AD. FSx for Windows can be deployed multi-AZ or single AZ in a VPC and features on-demand and scheduled backups. Key features:

* VSS - user driven restores

* Use SMB like all Windows

* Windows permissions 

* Distributed file system - scale out performance

# FSx for Lustre
Managed POSIX file storage for HPC, generally running Linux. Has two different deployment types: _scratch_ which is high-performance and *not* HA and _persistent_ which is HA and self-healing but in a single AZ. Also has backup to S3 that is *not* enabled by default; manual or automatic with a 0-35 day retention. 

When the file system is created it is possible to point it at a bucket and have the contents of that bucket lazy loaded from the bucket into the file system. Changes to the file system are NOT automatically sync'd back to the bucket; use the `hsm_archive` command do sync to a bucket.

Metadata is stored in Metadata Targets (MST) while data is stored in object storage targets (OST) of 1.17 TiB. OST are stored in increements of 2.4 TiB. Scratch has a baseline transfer of 200 MB/s; Persistent can be configured to 50, 100 or 200 MB/s with bursts to 3.1K MB/s. Data is striped across OST, cached and accessed using an ENI.

# Key Resources

- [Disaster Recovery in the Cloud](https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/disaster-recovery-workloads-on-aws.html)